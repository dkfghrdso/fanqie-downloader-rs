# ç•ªèŒ„å°è¯´ä¸‹è½½å™¨ (Rust ç‰ˆæœ¬)

ä¸€ä¸ªå¿«é€Ÿã€é«˜æ•ˆçš„ç•ªèŒ„å°è¯´ä¸‹è½½å·¥å…·ï¼Œä½¿ç”¨ Rust ç¼–å†™ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **ä¹¦ç±æœç´¢** - æ”¯æŒå…³é”®è¯æœç´¢ç•ªèŒ„å°è¯´
- ğŸ“– **ä¹¦ç±ä¿¡æ¯** - æŸ¥çœ‹ä¹¦ç±è¯¦æƒ…å’Œç« èŠ‚åˆ—è¡¨
- ğŸ“¥ **ä¸‹è½½åŠŸèƒ½** - ä¸‹è½½å•æœ¬æˆ–å¤šæœ¬å°è¯´
- ğŸ“„ **å¤šæ ¼å¼å¯¼å‡º** - æ”¯æŒ TXT å’Œ EPUB æ ¼å¼
- âš¡ **å¹¶å‘ä¸‹è½½** - å¯é…ç½®å¹¶å‘æ•°åŠ é€Ÿä¸‹è½½
- ğŸ”„ **API èŠ‚ç‚¹åˆ‡æ¢** - è‡ªåŠ¨åˆ‡æ¢åˆ°å¯ç”¨çš„ API èŠ‚ç‚¹
- ğŸ›¡ï¸ **é€Ÿç‡é™åˆ¶** - ä½¿ç”¨ä»¤ç‰Œæ¡¶ç®—æ³•æ§åˆ¶è¯·æ±‚é¢‘ç‡

## å®‰è£…

### ä»æºç ç¼–è¯‘

```bash
git clone https://github.com/dkfghrdso/fanqie-downloader-rs.git
cd fanqie-downloader-rs
cargo build --release
```

ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ä½äº `target/release/fqdl`ã€‚

## ä½¿ç”¨æ–¹æ³•

### æœç´¢ä¹¦ç±

```bash
fqdl search "æ–—ç ´è‹ç©¹"
```

### æŸ¥çœ‹ä¹¦ç±ä¿¡æ¯

```bash
fqdl info <ä¹¦ç±ID>
```

### ä¸‹è½½ä¹¦ç±

```bash
# ä¸‹è½½ä¸º TXT æ ¼å¼ (é»˜è®¤)
fqdl download <ä¹¦ç±ID> -p ~/Downloads

# ä¸‹è½½ä¸º EPUB æ ¼å¼
fqdl download <ä¹¦ç±ID> -p ~/Downloads -f epub

# æŒ‡å®šç« èŠ‚èŒƒå›´
fqdl download <ä¹¦ç±ID> --start 1 --end 100
```

### æ‰¹é‡ä¸‹è½½

```bash
fqdl batch <ä¹¦ç±ID1> <ä¹¦ç±ID2> <ä¹¦ç±ID3> -p ~/Downloads -f txt -c 3
```

### æŸ¥çœ‹é…ç½®

```bash
fqdl config
```

## é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶ä½äº `config/fanqie.json`ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

- `api_sources`: API èŠ‚ç‚¹åˆ—è¡¨
- `endpoints`: API ç«¯ç‚¹é…ç½®
- `config`: ä¸‹è½½é…ç½®ï¼ˆå¹¶å‘æ•°ã€è¶…æ—¶æ—¶é—´ç­‰ï¼‰

## é¡¹ç›®ç»“æ„

```
rs-fanqie-downloader/
â”œâ”€â”€ Cargo.toml          # é¡¹ç›®é…ç½®
â”œâ”€â”€ config/
â”‚   â””â”€â”€ fanqie.json     # API é…ç½®
â””â”€â”€ src/
    â”œâ”€â”€ main.rs         # ç¨‹åºå…¥å£
    â”œâ”€â”€ lib.rs          # åº“å¯¼å‡º
    â”œâ”€â”€ config.rs       # é…ç½®ç®¡ç†
    â”œâ”€â”€ api.rs          # API å®¢æˆ·ç«¯
    â”œâ”€â”€ search.rs       # æœç´¢åŠŸèƒ½
    â”œâ”€â”€ downloader.rs   # ä¸‹è½½æ ¸å¿ƒ
    â”œâ”€â”€ export.rs       # å¯¼å‡ºæ¨¡å—
    â”œâ”€â”€ batch.rs        # æ‰¹é‡ä¸‹è½½
    â”œâ”€â”€ cli.rs          # å‘½ä»¤è¡Œç•Œé¢
    â”œâ”€â”€ error.rs        # é”™è¯¯å¤„ç†
    â””â”€â”€ utils/
        â””â”€â”€ rate_limiter.rs  # ä»¤ç‰Œæ¡¶é™æµ
```

## æŠ€æœ¯æ ˆ

- **Tokio** - å¼‚æ­¥è¿è¡Œæ—¶
- **Reqwest** - HTTP å®¢æˆ·ç«¯
- **Serde** - åºåˆ—åŒ–/ååºåˆ—åŒ–
- **Clap** - å‘½ä»¤è¡Œå‚æ•°è§£æ
- **Indicatif** - è¿›åº¦æ¡æ˜¾ç¤º
- **Epub-builder** - EPUB ç”Ÿæˆ

## è®¸å¯è¯

MIT License

## è‡´è°¢

æœ¬é¡¹ç›®æ˜¯ [Fanqie-novel-Downloader](https://github.com/POf-L/Fanqie-novel-Downloader) çš„ Rust é‡å†™ç‰ˆæœ¬ã€‚
